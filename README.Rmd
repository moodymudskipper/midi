---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# midi

JUST A DRAFT!!!

This is a rewrite of `TuneR::readMidi()`, with a counterpart to write midi.

We don't create a data.frame but a R6 object.

The structure is not stable yet.

I'd like to be able to change scales/modes, apply arpeggios etc, maybe do some
analysis on big amounts of midi files to detect patterns in styles of music or
specific artists, but we're far from there.

I'd like to do the same with guitar pro files too.

## Installation

Install with:
``` r
remotes::install_github("moodymudskipper/midi")
```

## Example

Load a simple music file with 2 instruments (that's 3 tracks here) 

```{r}
library(midi)

mid <- parse_midi("https://www.8notes.com/school/midi/violin/vivaldi_spring.mid")

# it prints nicely
mid

# we can show separately header or tracks
mid$header

# print names
mid$track_names()

# plot
mid$plot()

# re-encode to midi
local_file <- tempfile(fileext = ".mid")
mid$encode(local_file)

# and reimport to check if our back and forth transformation was reliable
mid_reimported <- parse_midi(local_file)
all.equal(mid, mid_reimported) 
```
